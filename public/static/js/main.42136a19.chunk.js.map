{"version":3,"sources":["styles.js","App.js","index.js"],"names":["Container","styled","div","App","useState","locations","setLocations","localStorage","getItem","url","setUrl","logUrl","setLogUrl","registerToSocket","socket","io","on","newLocation","prevLocations","useEffect","a","async","fetch","method","response","json","data","console","error","message","loadLocations","type","value","onChange","target","onClick","setItem","map","item","key","String","timestamp","when","altitude","longitude","latitude","speed","accuracy","ReactDOM","render","document","getElementById"],"mappings":"s1BAEO,IAAMA,E,MAAYC,EAAOC,IAAV,KCwEPC,MArEf,WAAgB,IAAD,EACqBC,mBAAS,IAD9B,mBACNC,EADM,KACKC,EADL,OAESF,mBAASG,aAAaC,QAAQ,uBAFvC,mBAENC,EAFM,KAEDC,EAFC,OAGeN,mBAASG,aAAaC,QAAQ,uBAH7C,mBAGNG,EAHM,KAGEC,EAHF,KAyBb,SAASC,IACP,IAAMC,EAASC,IAAGJ,GAElBG,EAAOE,GAAG,YAAY,SAAAC,GAAW,OAC/BX,GAAa,SAAAY,GAAa,OAAKD,GAAL,mBAAqBC,UAGjDJ,EAAOE,GAAG,iBAAiB,kBACzBV,EAAa,OAIjB,OAhCAa,qBAAU,WAeJR,GAdJ,qBAAAS,EAAAC,OAAA,2EAAAD,EAAA,MAE2BE,MAAMX,EAAS,WAAY,CAAEY,OAAQ,SAFhE,cAEUC,EAFV,kBAAAJ,EAAA,MAIuBI,EAASC,QAJhC,OAIUC,EAJV,OAMIpB,EAAaoB,GANjB,kDAQIC,QAAQC,MAAM,KAAIC,SARtB,QAWEhB,IAXF,yDAeEiB,KAED,CAACnB,IAeF,kBAACX,EAAD,KACE,kDACA,6BACE,2BAAO+B,KAAK,OAAOC,MAAOvB,EAAKwB,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBxB,EAAOwB,EAAOF,UACvE,4BAAQD,KAAK,SAASI,QAAS,WAC7B5B,aAAa6B,QAAQ,qBAAsB3B,GAC3CG,EAAUH,KAFZ,WAKF,4BACE,4BACE,wCACA,4CACA,6CACA,4CACA,yCACA,6CAEDJ,EAAUgC,KAAI,SAAAC,GAAI,OAAK,wBAAIC,IAAKC,OAAOF,EAAKG,YAC3C,8BAAOH,EAAKI,MACZ,8BAAOJ,EAAKK,UACZ,8BAAOL,EAAKM,WACZ,8BAAON,EAAKO,UACZ,8BAAOP,EAAKQ,OACZ,8BAAOR,EAAKS,iBC/DtBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.42136a19.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n  h3 {\r\n    text-align: center;\r\n  }\r\n\r\n  ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 40px;\r\n    width: 70%;\r\n\r\n    @media (max-width:768px)  {\r\n      width: 100%;\r\n    }\r\n\r\n    li {\r\n      margin-top: 5px;\r\n      display: flex;\r\n      flex-direction: row;\r\n      width: 100%;\r\n\r\n      strong {\r\n        flex: 0.2;\r\n        margin: 5px;\r\n      }\r\n\r\n      span {\r\n        flex: 0.2;\r\n        margin: 5px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from 'react';\nimport io from \"socket.io-client\";\n\nimport { Container } from './styles';\n\nfunction App() {\n  const [locations, setLocations] = useState([]);\n  const [url, setUrl] = useState(localStorage.getItem('siriusme_locations'));\n  const [logUrl, setLogUrl] = useState(localStorage.getItem('siriusme_locations'));\n\n  useEffect(() => {\n    async function loadLocations() {\n      try {\n        const response = await fetch(logUrl + '/allLogs', { method: 'GET' });\n\n        const data = await response.json();\n\n        setLocations(data);\n      } catch (err) {\n        console.error(err.message);\n      }\n\n      registerToSocket();\n    }\n\n    if (logUrl) {\n      loadLocations();\n    }\n  }, [logUrl]);\n\n  function registerToSocket() {\n    const socket = io(logUrl);\n\n    socket.on('location', newLocation =>\n      setLocations(prevLocations => [newLocation, ...prevLocations])\n    );\n\n    socket.on('clearlocation', () =>\n      setLocations([])\n    );\n  };\n\n  return (\n    <Container>\n      <h3>Localizações</h3>\n      <div>\n        <input type=\"text\" value={url} onChange={({ target }) => setUrl(target.value)} />\n        <button type=\"button\" onClick={() => {\n          localStorage.setItem('siriusme_locations', url);\n          setLogUrl(url);\n        }}>Salvar</button>\n      </div>\n      <ul>\n        <li>\n          <strong>Data</strong>\n          <strong>Altitude</strong>\n          <strong>Longitude</strong>\n          <strong>Latitude</strong>\n          <strong>Speed</strong>\n          <strong>Accuracy</strong>\n        </li>\n        {locations.map(item => (<li key={String(item.timestamp)}>\n          <span>{item.when}</span>\n          <span>{item.altitude}</span>\n          <span>{item.longitude}</span>\n          <span>{item.latitude}</span>\n          <span>{item.speed}</span>\n          <span>{item.accuracy}</span>\n        </li>))}\n      </ul>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}